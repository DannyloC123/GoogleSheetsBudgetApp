{% extends "base.html" %}
{% block title %}Expenses â€“ Finance Tracker{% endblock %}

{% block content %}
  <div class="cards">
    <!-- Pie chart panel -->
    <section class="card">
      <div class="card-header">Expenses</div>
      <!-- add pie-body so we can optionally nudge the image -->
      <div class="card-body pie-body">
        <img
          src="{{ url_for('static', filename='images/pie_chart.png') }}"
          alt="Monthly Expenses"
          class="responsive-chart"
        >
      </div>
    </section>

    <!-- Breakdown / totals panel (uses variables you pass in your /expenses route) -->
    <section class="card">
      <div class="card-header">Breakdown</div>
      <div class="card-body" style="flex-direction:column; align-items:flex-start; gap:8px;">
        <div><strong>Total:</strong> ${{ total_expenses }}</div>
        <ul style="margin:8px 0 0 16px; padding:0; line-height:1.5;">
          <li>Food: ${{ foodTotal }}</li>
          <li>Subscriptions: ${{ subTotal }}</li>
          <li>Golf Rounds: ${{ golfRTotal }}</li>
          <li>Golf Practice: ${{ golfPTotal }}</li>
          <li>Golf Equipment: ${{ golfETotal }}</li>
          <li>Gigi: ${{ gigiTotal }}</li>
          <li>Laundry: ${{ laundryTotal }}</li>
          <li>Education: ${{ educationTotal }}</li>
          <li>Bills: ${{ billsTotal }}</li>
          <li>Car: ${{ carTotal }}</li>
        </ul>
      </div>
    </section>
  </div>
{% endblock %}

{% block extra_css %}
<!-- Page-specific tweaks (optional) -->
<style>
  /* If your legend inside the PNG pushes the pie right, nudge it left a bit */
  .pie-body .responsive-chart { transform: translateX(-48px); }
  @media (max-width: 700px) { .pie-body .responsive-chart { transform: none; } }
</style>
{% endblock %}
